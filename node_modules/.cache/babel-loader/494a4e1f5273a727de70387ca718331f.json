{"ast":null,"code":"import _classCallCheck from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"G:\\\\courseara\\\\2-Frontend Web Development with React\\\\catering\\\\src\\\\components\\\\DishdetailComponent.js\";\nimport React from 'react';\nimport { Card, CardImg, CardText, CardBody, CardTitle, ListGroup, ListGroupItem, Breadcrumb, BreadcrumbItem, Button, Modal, ModalBody, ModalHeader, Row, Label, Col } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { Control, LocalForm, Errors } from 'react-redux-form';\n\nfunction RenderComments(_ref) {\n  var comments = _ref.comments,\n      addComment = _ref.addComment,\n      dishId = _ref.dishId;\n\n  if (comments != null) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }, \"Comment\"), comments.map(function (e) {\n      console.log(e);\n      return React.createElement(\"div\", {\n        key: e.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, e.comment), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, \"--\", e.author, \" ,\", new Intl.DateTimeFormat('en-US', {\n        year: 'numeric',\n        month: 'short',\n        day: '2-digit'\n      }).format(new Date(Date.parse(e.date)))));\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }), React.createElement(CommentForm, {\n      dishId: dishId,\n      addComment: addComment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    });\n  }\n}\n\nfunction RenderDish(_ref2) {\n  var dish = _ref2.dish;\n  return React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(CardImg, {\n    top: true,\n    src: dish.image,\n    alt: dish.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(CardTitle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, dish.name), React.createElement(CardText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, dish.description)));\n}\n\nvar DishDetail = function DishDetail(props) {\n  console.log(\"DishDetail Component render is invoke\");\n\n  if (props.dish != null) {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(Breadcrumb, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(BreadcrumbItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Menu\")), React.createElement(BreadcrumbItem, {\n      active: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, props.dish.name)), React.createElement(\"div\", {\n      className: \"col-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, props.dish.name), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-md-5 m-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(RenderDish, {\n      dish: props.dish,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-md-5 m-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(RenderComments, {\n      comments: props.comments,\n      addComment: props.addComment,\n      dishId: props.dish.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-md-5 m-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    });\n  }\n};\n\nvar maxLength = function maxLength(len) {\n  return function (val) {\n    return !val || val.length <= len;\n  };\n};\n\nvar minLength = function minLength(len) {\n  return function (val) {\n    return val && val.length >= len;\n  };\n};\n\nvar CommentForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CommentForm, _React$Component);\n\n  function CommentForm(props) {\n    var _this;\n\n    _classCallCheck(this, CommentForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CommentForm).call(this, props));\n    _this.state = {\n      isModalOpen: false\n    };\n    _this.toggleModal = _this.toggleModal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CommentForm, [{\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState({\n        isModalOpen: !this.state.isModalOpen\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(values) {\n      this.toggleModal();\n      /* this.setState({\r\n          isModalOpen: false\r\n          }); */\n\n      this.props.addComment(this.props.dishId, values.rating, values.author, values.comment);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.toggleModal,\n        color: \"light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"fas fa-pen\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), \" Submit Comment\"), React.createElement(Modal, {\n        isOpen: this.state.isModalOpen,\n        toggle: this.toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(ModalHeader, {\n        toggle: this.toggleModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Submit Comment\"), React.createElement(ModalBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(LocalForm, {\n        onSubmit: function onSubmit(values) {\n          return _this2.handleSubmit(values);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"rating\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Rating\"), React.createElement(Control.input, {\n        type: \"number\",\n        model: \".rating\",\n        id: \"rating\",\n        name: \"rating\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"author\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Your Name\"), React.createElement(Control.text, {\n        model: \".author\",\n        id: \"author\",\n        name: \"author\",\n        placeholder: \"Your Name\",\n        className: \"form-control\",\n        validators: {\n          minLength: minLength(3),\n          maxLength: maxLength(15)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(Errors, {\n        className: \"text-danger\",\n        model: \".author\",\n        show: \"touched\",\n        messages: {\n          required: 'Required',\n          minLength: 'Must be greater than 3 characters',\n          maxLength: 'Must be 15 characters or less'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"author\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Comment\"), React.createElement(Control.textarea, {\n        model: \".comment\",\n        id: \"comment\",\n        name: \"comment\",\n        className: \"form-control\",\n        rows: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }))), React.createElement(Row, {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: {\n          size: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Submit\")))))));\n    }\n  }]);\n\n  return CommentForm;\n}(React.Component);\n\nexport default DishDetail;","map":{"version":3,"sources":["G:/courseara/2-Frontend Web Development with React/catering/src/components/DishdetailComponent.js"],"names":["React","Card","CardImg","CardText","CardBody","CardTitle","ListGroup","ListGroupItem","Breadcrumb","BreadcrumbItem","Button","Modal","ModalBody","ModalHeader","Row","Label","Col","Link","Control","LocalForm","Errors","RenderComments","comments","addComment","dishId","map","e","console","log","id","comment","author","Intl","DateTimeFormat","year","month","day","format","Date","parse","date","RenderDish","dish","image","name","description","DishDetail","props","maxLength","len","val","length","minLength","CommentForm","state","isModalOpen","toggleModal","bind","handleSubmit","setState","values","rating","required","size","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Card, CardImg, CardText, CardBody,CardTitle,ListGroup,ListGroupItem,Breadcrumb, BreadcrumbItem, Button,\r\n    Modal, ModalBody,ModalHeader,Row,Label,Col} from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { Control, LocalForm, Errors } from 'react-redux-form';\r\n\r\n   function RenderComments({comments, addComment, dishId}){\r\n        if (comments != null){\r\n           return(\r\n               <div>\r\n                   <h4>Comment</h4>\r\n                   {\r\n                       comments.map(e=>{\r\n                           console.log(e)\r\n                           return(\r\n                               <div key={e.id}><br />\r\n                                   <div>{e.comment}</div><br />\r\n                                   <div>--{e.author} , \r\n                                       {new Intl.DateTimeFormat('en-US', {year:'numeric', month:'short', day:'2-digit'})\r\n                                       .format(new Date(Date.parse(e.date)))}\r\n                                    </div>\r\n                               </div>\r\n                           )\r\n                       })\r\n                   }\r\n                   <br />\r\n                   <CommentForm dishId={dishId} addComment={addComment} /> \r\n               </div>\r\n           )\r\n          \r\n        }\r\n        else {\r\n            return(\r\n                <div></div>\r\n            )\r\n            \r\n        }\r\n    }\r\n\r\n   function RenderDish({dish}) {\r\n        return(\r\n            <Card>\r\n                <CardImg top src={dish.image} alt={dish.name} />\r\n                <CardBody>\r\n                    <CardTitle>{dish.name}</CardTitle>\r\n                    <CardText>{dish.description}</CardText>\r\n                </CardBody>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    const DishDetail = (props) => {\r\n        console.log(\"DishDetail Component render is invoke\")\r\n        if(props.dish != null){\r\n            return (\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <Breadcrumb>\r\n        \r\n                            <BreadcrumbItem><Link to=\"/menu\">Menu</Link></BreadcrumbItem>\r\n                            <BreadcrumbItem active>{props.dish.name}</BreadcrumbItem>\r\n                        </Breadcrumb>\r\n                        <div className=\"col-12\">\r\n                            <h3>{props.dish.name}</h3>\r\n                            <hr />\r\n                        </div>                \r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 col-md-5 m-1\">\r\n                            <RenderDish dish={props.dish} />\r\n                        </div>\r\n                        <div className=\"col-12 col-md-5 m-1\">\r\n                            <RenderComments \r\n                                comments={props.comments}\r\n                                addComment={props.addComment}\r\n                                dishId={props.dish.id}\r\n                             />\r\n                        </div>\r\n                        <div className=\"col-12 col-md-5 m-1\">\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n      \r\n    }\r\n\r\nconst maxLength = (len) => (val) => !(val) || (val.length <= len);\r\nconst minLength = (len) => (val) => val && (val.length >= len);\r\nclass CommentForm extends React.Component{\r\nconstructor(props) {\r\nsuper(props);\r\n\r\nthis.state = {\r\n    isModalOpen: false\r\n    };\r\n\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this)\r\n\r\n}\r\n\r\n    toggleModal() {\r\n    this.setState({\r\n        isModalOpen: !this.state.isModalOpen\r\n    });\r\n    }\r\n    handleSubmit(values){\r\n        this.toggleModal()\r\n    /* this.setState({\r\n        isModalOpen: false\r\n        }); */\r\n        this.props.addComment(this.props.dishId, values.rating, values.author, values.comment);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Button onClick={this.toggleModal} color=\"light\"><span className=\"fas fa-pen\"></span> Submit Comment</Button>\r\n                <Modal isOpen={this.state.isModalOpen} toggle={this.toggleModal}>\r\n                    <ModalHeader toggle={this.toggleModal}>Submit Comment</ModalHeader>\r\n                    <ModalBody>\r\n                        <LocalForm onSubmit={(values) => this.handleSubmit(values)}>\r\n                            <Row className=\"form-group\">\r\n                                <Col md={12}>\r\n                                    <Label htmlFor=\"rating\">Rating</Label>\r\n                                    <Control.input type=\"number\" model=\".rating\" id=\"rating\" name=\"rating\"\r\n                                        className=\"form-control\"\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Col md={12}>\r\n                                    <Label htmlFor=\"author\">Your Name</Label>\r\n                                    <Control.text model=\".author\" id=\"author\" name=\"author\"\r\n                                        placeholder=\"Your Name\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                             minLength: minLength(3), maxLength: maxLength(15)\r\n                                        }}\r\n                                    />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".author\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: 'Must be greater than 3 characters',\r\n                                            maxLength: 'Must be 15 characters or less'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Col md={12}>\r\n                                    <Label htmlFor=\"author\">Comment</Label>\r\n                                    <Control.textarea model=\".comment\" id=\"comment\" name=\"comment\"\r\n                                        className=\"form-control\"\r\n                                        rows=\"6\"\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Col md={{size:10}}>\r\n                                    <Button type=\"submit\" color=\"primary\">Submit</Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </LocalForm>\r\n                    </ModalBody>\r\n                </Modal>\r\n            </div>\r\n            )\r\n    }\r\n}\r\nexport default DishDetail"]},"metadata":{},"sourceType":"module"}